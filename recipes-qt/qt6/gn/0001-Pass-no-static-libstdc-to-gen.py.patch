From ddd522a06c81fa1e0be2be2ae3ae3263ab980cf7 Mon Sep 17 00:00:00 2001
From: Khem Raj <raj.khem@gmail.com>
Date: Thu, 22 Aug 2024 13:20:42 -0700
Subject: [PATCH] Pass no-static-libstdc++ to gen.py

Upstream-Status: Submitted [https://codereview.qt-project.org/c/qt/qtwebengine/+/585145]

GN requires libstdc++.a to be installed on host systems by default,
which is often not very common, for no particular reason.

Signed-off-by: Khem Raj <raj.khem@gmail.com>
---
 src/gn/CMakeLists.txt | 1 +
 1 file changed, 1 insertion(+)

--- a/src/gn/CMakeLists.txt
+++ b/src/gn/CMakeLists.txt
@@ -60,10 +60,12 @@ add_custom_command(
     WORKING_DIRECTORY ${GN_BINARY_DIR}
     COMMAND ${Python3_EXECUTABLE} ${GN_SOURCE_DIR}/build/gen.py
         --no-last-commit-position
+        --no-static-libstdc++
         --out-path ${GN_BINARY_DIR}/$<CONFIG>
         --cc ${CMAKE_C_COMPILER}
         --cxx ${CMAKE_CXX_COMPILER}
         --ld ${GN_LINKER}
+        --allow-warnings
         --platform ${platform}
         --ar ${CMAKE_AR}
         --qt-version "${QT_REPO_MODULE_VERSION}.qtwebengine.qt.io"
